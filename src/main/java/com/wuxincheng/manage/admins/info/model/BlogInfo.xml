<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="BlogInfo">
	<typeAlias alias="BlogInfo" type="com.wuxincheng.manage.admins.info.model.BlogInfo" />

	<resultMap class="BlogInfo" id="BlogInfoMapping">
		<result property="blogId" column="BLOG_ID" />
		<result property="blogTitle" column="BLOG_TITLE" />
		<result property="blogContent" column="BLOG_CONTENT" />
		<result property="blogTime" column="CREATE_TIME" />
		<result property="picId" column="PIC_ID" />
		<result property="blogTypeName" column="TYPE_NAME" />
	</resultMap>
	
	<select id="queryAll" parameterClass="java.lang.String" resultMap="BlogInfoMapping">
		SELECT 
			i.BLOG_ID, i.BLOG_TITLE, 
			LEFT(i.BLOG_CONTENT, 50) AS BLOG_CONTENT, 
			DATE_FORMAT(i.CREATE_TIME,'%Y-%m-%d %H:%i:%S') AS CREATE_TIME, 
			i.PIC_ID,t.TYPE_NAME
		FROM T_BLOG_DETAIL_INFO i 
			LEFT JOIN T_BLOG_TYPE t ON i.BLOG_TYPE = t.TYPE_ID
		ORDER BY i.CREATE_TIME
	</select>
	
</sqlMap>